<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,
initial-scale=1.0">
<title>SmarterJustice</title>
<style>
body {
font-family: Arial, sans-serif;
text-align: center;
background-color: #f8f8f8;
padding: 20px;
}
#chatbox {
width: 60%;
max-width: 600px;
margin: 20px auto;
padding: 10px;
border: 1px solid #ccc;
background: #fff;
height: 400px;overflow-y: auto;
display: flex;
flex-direction: column;
}
.message {
padding: 8px;
margin: 5px;
border-radius: 5px;
max-width: 75%;
}
.user { background-color: #d1e7dd; align-self: flex-end; }
.bot { background-color: #f8d7da; align-self: flex-start; }
input {
width: 70%;
padding: 10px;
font-size: 16px;
border: 1px solid #ccc;
border-radius: 5px;
}
button {
padding: 10px;
font-size: 16px;
cursor: pointer;
background-color: #007bff;
color: white;
border: none;
border-radius: 5px;
margin-left: 5px;
}
button:hover { background-color: #0056b3; }
</style>
</head>

<body>
  
<h1>SmarterJustice Chat</h1>
<div id="chatbox"></div>
<input id="userInput" type="text" placeholder="Ask me a legal
question...">
<button onclick="sendMessage()">Send</button><script>
async function sendMessage() {
let inputField = document.getElementById("userInput");
let chatbox = document.getElementById("chatbox");
let userMessage = inputField.value.trim();
if (!userMessage) return; // Prevent sending empty
messages
chatbox.innerHTML += `<div class="message
user"><strong>You:</strong> ${userMessage}</div>`;
inputField.value = "";
// Show "Thinking..." message
let thinkingMessage = document.createElement("div");
thinkingMessage.className = "message bot";
thinkingMessage.innerHTML = "<strong>Bot:</strong> Thinking...";
chatbox.appendChild(thinkingMessage);
chatbox.scrollTop = chatbox.scrollHeight;
try {
let response = await fetch("/chat", { // Calls secure
backendmethod: "POST",
headers: { "Content-Type": "application/json" },
body: JSON.stringify({ message: userMessage })
});
let jsonResponse = await response.json();
let botMessage = jsonResponse.response || "I'm not sure how to answer that.";
// Remove "Thinking..." message
chatbox.removeChild(thinkingMessage);chatbox.innerHTML += `<div class="message
bot"><strong>Bot:</strong> ${botMessage}</div>`;
// Offer a calendar link if relevant
if (botMessage.toLowerCase().includes("consultation"))
{
chatbox.innerHTML += `<div class="message
bot"><strong>Bot:</strong> You can schedule a consultation here: <a
href="YOUR_CALENDLY_LINK" target="_blank">Book Now</a></div>`;
}
} catch (error) {
chatbox.removeChild(thinkingMessage);
chatbox.innerHTML += `<div class="message
bot"><strong>Bot:</strong> Oops, something went wrong. Try again
later.</div>`;
}
chatbox.scrollTop = chatbox.scrollHeight;
}
</script>
</body>
</html>